# Git差分エクスポートバッチ

Windows環境である特定のリビジョンから別のリビジョンまでの差分を一階層上のディレクトリに日付名でサブディレクトリを作って書き出すバッチ  
主にSourceTreeのカスタム操作オプションに設定して使う  

## 前提

WindowsにGitをインストールしていること

## 利用方法

git cloneする

### SourceTreeに設定する

1. SourceTreeでツール＞オプション＞カスタム操作を選択
1. 追加ボタンを押す
1. 実行するスクリプトにexport_diff.batを選択する
1. パラメータに$SHAを選択する

### SourceTreeで使う

1. 差分を取得したいコミットを2つ選択する
 ※1つを選択した場合、現在チェックアウトしている地点までの差分を取得する
1. コンテキストメニュー＞カスタム操作から実行


## 注意点

* 差分が多すぎるとWindowsのコマンド文字数制限が原因でエラーになる

* その場合は/archive/diff.txtに差分ファイル一覧を出力しているのでそれを利用してGit Bash画面でコマンドを叩く

---
## 参考  
[SourceTreeでコミット間の差分ファイルを圧縮しないで取り出す方法](http://qiita.com/youthkee/items/8579c7a963c24bd4e655)  